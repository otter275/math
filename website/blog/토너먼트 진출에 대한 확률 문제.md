# 토너먼트 진출에 대한 확률 문제

문제의 상황은 다음과 같습니다.

나는 현재 포커 토너먼트에 진출 해 있습니다. 다음 단계로 진출 하기 위해 서는 이미 정해진 상대 $p1$,$p2$,$p3$와 연속으로 반드시 게임을 해야 합니다. 나는 두 명에게 연속으로 승리하면 다음 토너먼트로 진출 할 수 있습니다.

즉, 예를 들어

처음 상대에게 지고 그 다음 상대에게 이기고 그 다음 상대에게 이기면 다음 단계에 진출 합니다.

하지만 처음에 이기고 그 다음지고 마지막에 이겨도 다음 단계에 진출 할 수 없습니다.

위의 조건에서 추가로 주어진 정보는 다음과 같습니다.

- 개별 게임은 전부 독립사건으로 가정
- 나는 상대와의 승률 데이터를 가지고 있는데 각각 $p_{1}$을 상대로 0.8, $p_{2}$ 를 상대로 0.5, $p_{3}$를 상대로 0.1과 같습니다.
- 포커 게임을 할 상대와의 매치 순서는 내가 임의로 정 할 수 있다.

자 이제 문제 입니다. 위의 조건에서 내가 2연승을 하고 다음단계로 진출 하기 위해 $p_{1}$, $p_{2}$, $p_{3}$와의 매치 순서를 어떻게 배열 하는게 토너먼트의 다음 단계로 진출 하기 위해 가장 높은 승률을 보장 받을 까요?

### **Solution:**

- 제일 먼저 Sample Space에 대해서 생각 해 보겠습니다. 경기를 3번 연이어 치르는 매치에 대한 Sample Space는 다음과 같습니다.

$\Omega$ $= \{LLL, LLW LWL, WLL, LWW, WLW, WWL, WWW\}$ 여기서 $W$는 승리 $L$은 패배를 의미 합니다.

- 2연승을 하면 그 단계의 토너먼트에서 승리하고 다음단계로 진출 하기 때문에 토너먼트에 승리하고 다음 단계로 진출 하는 Event는 다음과 같습니다.

$T$ = $\{ 토너먼트에 \;승리하는 \;사건 \}$ $= \{WWL, LWW, WWW\}$

- 일단 두 번째 매치 상대만 정했을 경우 첫 번째와 세 번째 매치 상대가 올 수 있는 경우의 수는 2가지 입니다. 우선적으로 p2를 두 번째 매치 상대로 정 했을 때의 2가지에 대한 확률을 각각 case로 나눠서 계산 해 보겠습니다.

$Case1$: 매치 순서 $p1,p2,p3$ 에 따른 확률

$$\begin{aligned}Pr({LWW,WWL,WWW}) &= (1-p_{1})p_{2}p_{3} + p_{1}p_{2}(1-p_{3}) + p_{1}p_{2}p_{3} \\&= p_{2}p_{3} - p_{1}p_{2}p_{3} + p_{1}p_{2} - p_{1}p_{2}p_{3} + p_{1}p_{2}p_{3} \\&= p_{1}p_{2} + p_{2}p_{3} - p_{1}p_{2}p_{3}\end{aligned}$$

$Case2:$ 매치 순서 $p3,p2,p1$ 에 따른 확률

$$\begin{aligned}Pr({LWW,WWL,WWW}) &= (1-p_{3})p_{2}p_{1} + p_{3}p_{2}(1-p_{1}) + p_{3}p_{2}p_{1} \\&= (1-p_{1})p_{2}p_{3} + p_{1}p_{2}(1-p_{3}) + p_{1}p_{2}p_{3} \\\end{aligned}$$

결과를 보면 $Case1$과 $Case2$에서 계산 된 확률 값이 같음을 알 수 있는데요. 확률의 대칭성에 의해  $p_{1}$과 $p_{3}$를 두 번째 상대로 배치 하는 경우에도 각각의 $p_{1}$과 $p_{3}$에 대한 $Case$에 대한 확률도 서로 같음을 알 수 있습니다.

- 3번에서 획득한 정보를 바탕으로 각각의 경우에 대해 2연승을 하고 다음 단계로 진출 하는 확률에 대해서 계산 하겠습니다.

a. $p_{1}$과 두 번째 에서 매치 하는 경우에 2연승을 하고 다음 단계로 진출 하는 확률

$$\begin{aligned}Pr(T|second\; match\; with\; p_{1}) &= Pr({LWW,WWL,WWW}) \\&= Pr({LWW}) + Pr({WWL}) + Pr({WWW}) \\&= (1-p_{2})p_{1}p_{3} + p_{2}p_{1}(1-p_{3}) + p_{1}p_{2}p_{3} \\&= p_{1}p_{3} - p_{1}p_{2}p_{3} + p_{1}p_{2} - p_{1}p_{2}p_{3} + p_{1}p_{2}p_{3} \\&= p_{1}p_{2} + p_{1}p_{3} - p_{1}p_{2}p_{3} \;\;\; - (1)\end{aligned}$$

b. $p_{2}$와 두 번째 에서 매치 하는 경우에 2연승을 하고 다음 단계로 진출 하는 확률

$$\begin{aligned}Pr(T|second\; match\; with\; p_{2}) &= Pr({LWW,WWL,WWW}) \\&= Pr({LWW}) + Pr({WWL}) + Pr({WWW}) \\&= (1-p_{1})p_{2}p_{3} + p_{1}p_{2}(1-p_{3}) + p_{1}p_{2}p_{3} \\&= p_{2}p_{3} - p_{1}p_{2}p_{3} + p_{1}p_{2} - p_{1}p_{2}p_{3} + p_{1}p_{2}p_{3}\\&= p_{1}p_{2} + p_{2}p_{3} - p_{1}p_{2}p_{3} \;\;\; - (2)\end{aligned}$$

c. $p_{3}$와 두 번째 에서 매치 하는 경우에 2연승을 하고 다음 단계로 진출 하는 확률

$$\begin{aligned}Pr(T|second\; match\; with\; p_{3}) &= Pr({LWW,WWL,WWW}) \\&= Pr({LWW}) + Pr({WWL}) + Pr({WWW}) \\&= (1-p_{1})p_{3}p_{2} + p_{1}p_{3}(1-p_{2}) + p_{1}p_{2}p_{3} \\&= p_{2}p_{3} - p_{1}p_{2}p_{3} + p_{1}p_{3} - p_{1}p_{2}p_{3} + p_{1}p_{2}p_{3} \\&= p_{1}p_{3} + p_{2}p_{3} - p_{1}p_{2}p_{3} \;\;\; - (3)\end{aligned}$$

여기서 우리는

$p_{1} > p_{2}$ 이면 $p_{1}p_{3} > p_{2}p_{3}$ 이므로 $(1) > (2)$

$p_{2} > p_{3}$ 이면 $p_{1}p_{2} > p_{1}p_{3}$ 이므로 $(2) > (3)$ 임을 알 수 있습니다.

그러므로

$(1) > (2) > (3)$ 임을 알 수 있습니다. 즉, $(1)$번 경우가 2연승을 하고 토너먼트의 다음 단계로 진출 하는 가장 높은 확률을 보장합니다.

- 마지막으로 승률값을 집어 넣어서 (1)번에 의한 다음 단계로의 토너먼트 진출 확률을 계산 해 보겠습니다.

$$\begin{aligned}p_{1}p_{2} + p_{1}p_{3} - p_{1}p_{2}p_{3} &= (0.8 \times 0.5) + (0.8 \times 0.1) - (0.8 \times 0.5 \times 0.1) \\&= 0.4 + 0.08 - 0.04 \\&= 0.44 \\&= 44\%\end{aligned}$$